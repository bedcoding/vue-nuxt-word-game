<template>
  <div class="min-h-screen bg-gradient-to-b from-yellow-900 via-orange-900 to-red-900 relative overflow-hidden">
    <!-- ìŠ¹ë¦¬ ë°°ê²½ íš¨ê³¼ -->
    <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>
    
    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <div class="relative z-10 container mx-auto px-4 py-8 min-h-screen flex flex-col items-center justify-center">
      <ResultHeader />
      <ResultVictoryContent />
      <ResultActions />
    </div>
    
    <!-- ìŠ¹ë¦¬ íŒŒí‹°í´ íš¨ê³¼ -->
    <ResultConfetti />
  </div>
</template>

<script setup lang="ts">
import { useGameStore } from '@/stores/game'

const gameStore = useGameStore()

// ğŸ”§ ìŠ¹ë¦¬ í˜ì´ì§€: ê´€ëŒ€í•œ ì ‘ê·¼ ì •ì±…
// ì§ì ‘ URL ì ‘ê·¼ í—ˆìš©, ê¸°ë³¸ ìŠ¹ë¦¬ ìƒíƒœ ì„¤ì •
if (gameStore.gamePhase !== 'victory') {
  // ê¸°ë³¸ ìŠ¹ë¦¬ ìƒíƒœë¡œ ì„¤ì •
  gameStore.gamePhase = 'victory'
  if (gameStore.currentStageNumber < 10) {
    gameStore.currentStageNumber = 10
  }
  if (gameStore.player.hp <= 0) {
    gameStore.player.hp = 1 // ìµœì†Œ ì²´ë ¥
  }
}

// SEO ì„¤ì •
useHead({
  title: 'ìŠ¹ë¦¬! - ì›Œë“œ ë°°í‹€',
  meta: [
    { name: 'description', content: 'ì¶•í•˜í•©ë‹ˆë‹¤! ëª¨ë“  ì ì„ ë¬¼ë¦¬ì¹˜ê³  ìŠ¹ë¦¬í–ˆìŠµë‹ˆë‹¤!' }
  ]
})
</script> 