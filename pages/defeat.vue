<template>
  <div class="min-h-screen bg-gradient-to-b from-gray-900 via-red-900 to-black relative overflow-hidden">
    <!-- íŒ¨ë°° ë°°ê²½ íš¨ê³¼ -->
    <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent"></div>
    
    <!-- ë©”ì¸ ì½˜í…ì¸  -->
    <div class="relative z-10 container mx-auto px-4 py-8 min-h-screen flex flex-col items-center justify-center">
      <ResultHeader />
      <ResultDefeatContent />
      <ResultActions />
    </div>
    
    <!-- íŒ¨ë°° íŒŒí‹°í´ íš¨ê³¼ (ì–´ë‘ ) -->
    <div class="absolute inset-0 pointer-events-none">
      <div class="absolute top-1/4 left-1/4 w-2 h-2 bg-red-500 rounded-full opacity-50 animate-pulse"></div>
      <div class="absolute top-3/4 right-1/4 w-1 h-1 bg-red-400 rounded-full opacity-30 animate-pulse delay-500"></div>
      <div class="absolute bottom-1/3 left-1/3 w-1.5 h-1.5 bg-red-600 rounded-full opacity-40 animate-pulse delay-1000"></div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { useGameStore } from '@/stores/game'

const gameStore = useGameStore()

// ğŸ”§ íŒ¨ë°° í˜ì´ì§€: ê´€ëŒ€í•œ ì ‘ê·¼ ì •ì±…
// ì§ì ‘ URL ì ‘ê·¼ í—ˆìš©, ê¸°ë³¸ íŒ¨ë°° ìƒíƒœ ì„¤ì •
if (gameStore.gamePhase !== 'defeat') {
  // ê¸°ë³¸ íŒ¨ë°° ìƒíƒœë¡œ ì„¤ì •
  gameStore.gamePhase = 'defeat'
  if (gameStore.player.hp > 0) {
    gameStore.player.hp = 0 // íŒ¨ë°° ìƒíƒœ
  }
}

// SEO ì„¤ì •
useHead({
  title: 'íŒ¨ë°°... - ì›Œë“œ ë°°í‹€',
  meta: [
    { name: 'description', content: 'ì•„ì‰½ê²Œë„ íŒ¨ë°°í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ë„ì „í•´ë³´ì„¸ìš”!' }
  ]
})
</script> 