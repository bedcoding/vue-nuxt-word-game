<template>
  <div class="min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-black relative overflow-hidden flex items-center justify-center">
    <!-- ë°°ê²½ íš¨ê³¼ -->
    <div class="absolute inset-0 bg-gradient-to-t from-black/80 to-transparent"></div>
    
    <!-- ê²°ê³¼ ëª¨ë‹¬ -->
    <ResultModal />
    
    <!-- ìŠ¹ë¦¬/íŒ¨ë°° ë°°ê²½ íš¨ê³¼ -->
    <ResultBackgroundEffect />
  </div>
</template>

<script setup lang="ts">
import { useGameStore } from '@/stores/game'

const gameStore = useGameStore()

// ğŸ”§ ê²°ê³¼ í˜ì´ì§€ ì ‘ê·¼ ì œí•œ (ì „íˆ¬ì—ì„œ ì§„ì… í—ˆìš©)
if (gameStore.gamePhase !== 'result' && gameStore.gamePhase !== 'battle') {
  throw createError({
    statusCode: 404,
    statusMessage: 'ì˜ëª»ëœ ì ‘ê·¼ì…ë‹ˆë‹¤. ì „íˆ¬ë¥¼ ë¨¼ì € ì§„í–‰í•´ì£¼ì„¸ìš”.'
  })
}

// ğŸ”§ ì „íˆ¬ì—ì„œ ê²°ê³¼ë¡œ ì§„ì… ì‹œ gamePhase ìë™ ìˆ˜ì •
if (gameStore.gamePhase === 'battle') {
  gameStore.gamePhase = 'result'
}

// SEO ì„¤ì •
useHead({
  title: 'ê²°ê³¼ - ì›Œë“œ ë°°í‹€',
  meta: [
    { name: 'description', content: 'ì „íˆ¬ ê²°ê³¼ë¥¼ í™•ì¸í•˜ê³  ë‹¤ìŒ ë‹¨ê³„ë¥¼ ì„ íƒí•˜ì„¸ìš”!' }
  ]
})
</script> 