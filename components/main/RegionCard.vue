<template>
  <div
    @click="$emit('select', region.id)"
    class="bg-gradient-to-br from-purple-800/80 to-blue-800/80 backdrop-blur-sm border border-purple-400/30 rounded-xl p-6 cursor-pointer transition-all duration-300 transform hover:scale-105 hover:shadow-2xl hover:border-purple-400/60"
    :class="{ 'ring-4 ring-purple-400 bg-gradient-to-br from-purple-700/90 to-blue-700/90': isSelected }"
  >
    <!-- ì§€ì—­ ì•„ì´ì½˜ -->
    <div class="text-center mb-4">
      <div class="text-5xl mb-3">
        {{ getRegionIcon(region.id) }}
      </div>
      <h3 class="text-xl font-bold text-white">{{ region.title }}</h3>
    </div>
    
    <!-- ì§€ì—­ ì„¤ëª… -->
    <p class="text-purple-200 text-sm text-center mb-4">
      {{ region.description }}
    </p>
    
    <!-- 10ë‹¨ê³„ ì§„í–‰ë„ í‘œì‹œ -->
    <MainStageProgress />
    
    <!-- ì²« ë²ˆì§¸ ì  ë¯¸ë¦¬ë³´ê¸° -->
    <MainEnemyPreview :enemy="region.stages[0].enemy" />
  </div>
</template>

<script setup lang="ts">
import type { GameRegion } from '@/types/game'

interface Props {
  region: GameRegion
  isSelected: boolean
}

defineProps<Props>()
defineEmits<{
  select: [regionId: number]
}>()

// ì§€ì—­ ì•„ì´ì½˜ ë°˜í™˜
const getRegionIcon = (regionId: number): string => {
  const icons: Record<number, string> = {
    1: 'ğŸ“š', // ë§ˆë²• ë„ì„œê´€
    2: 'ğŸŒ€', // ì‹œê°„ì˜ ë¯¸ë¡œ
    3: 'ğŸ°'  // ì–´ë‘ ì˜ ì„±
  }
  return icons[regionId] || 'âš”ï¸'
}
</script> 